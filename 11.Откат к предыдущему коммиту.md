# –ö–∞–∫ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞–∑–∞–¥, –µ—Å–ª–∏ ¬´–≤—Å—ë —Å–ª–æ–º–∞–ª–æ—Å—å¬ª

–ù–∞ —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö —Ä–∞–±–æ—Ç—ã —Å Git –º–æ–≥—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –ø–æ—Ö–æ–∂–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏:

* –í —Å–ø–∏—Å–æ–∫ –Ω–∞ –∫–æ–º–º–∏—Ç –ø–æ–ø–∞–ª –ª–∏—à–Ω–∏–π —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Ä–µ–º–µ–Ω–Ω—ã–π). –ù—É–∂–Ω–æ ¬´–≤—ã–Ω—É—Ç—å¬ª –µ–≥–æ –∏–∑ —Å–ø–∏—Å–∫–∞.

* –ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–º–∏—Ç–æ–≤ –æ—à–∏–±–æ—á–Ω—ã–µ: –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–¥–µ–ª–∞–ª–∏ –Ω–µ —Ç–æ, —á—Ç–æ –±—ã–ª–æ –Ω—É–∂–Ω–æ, –∏–ª–∏ –Ω–∞—Ä—É—à–∏–ª–∏ –ª–æ–≥–∏–∫—É. –•–æ—á–µ—Ç—Å—è ¬´–æ—Ç–∫–∞—Ç–∏—Ç—å¬ª —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–º–∏—Ç–æ–≤, –≤–µ—Ä–Ω—É—Ç—å ¬´–∫–∞–∫ –±—ã–ª–æ –≤—á–µ—Ä–∞¬ª.

* –°–ª—É—á–∞–π–Ω–æ –∏–∑–º–µ–Ω–∏–ª—Å—è —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–æ–±—â–µ –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã–ª –º–µ–Ω—è—Ç—å—Å—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –æ—Ç–∫—Ä—ã–ª–∏ –Ω–µ —Ç–æ—Ç —Ñ–∞–π–ª –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏ –Ω–∞—á–∞–ª–∏ –µ–≥–æ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å.

–í —ç—Ç–æ–º —É—Ä–æ–∫–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç–∞–∫–∏–µ —Å–ª—É—á–∞–∏ –∏ –Ω–∞—É—á–∏–º –≤–∞—Å ¬´–æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å¬ª –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

## –í—ã–ø–æ–ª–Ω–∏—Ç—å unstage –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Äî git restore --staged <file>

–î–æ–ø—É—Å—Ç–∏–º, –≤—ã —Å–æ–∑–¥–∞–ª–∏ –∏–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏ –∫–∞–∫–æ–π-—Ç–æ —Ñ–∞–π–ª –∏ –¥–æ–±–∞–≤–∏–ª–∏ –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫ ¬´–Ω–∞ –∫–æ–º–º–∏—Ç¬ª (staging area) —Å –ø–æ–º–æ—â—å—é git add, –Ω–æ –ø–æ—Ç–æ–º –ø–µ—Ä–µ–¥—É–º–∞–ª–∏ –≤–∫–ª—é—á–∞—Ç—å –µ–≥–æ —Ç—É–¥–∞. –£–±—Ä–∞—Ç—å —Ñ–∞–π–ª –∏–∑ staging –ø–æ–º–æ–∂–µ—Ç –∫–æ–º–∞–Ω–¥–∞ _git restore --staged <file>_ (–æ—Ç –∞–Ω–≥–ª. restore ‚Äî ¬´–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å¬ª).

*üí° –í –≤—ã–≤–æ–¥–µ –∫–æ–º–∞–Ω–¥—ã git status –µ—Å—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∞ –≤ —Å–∫–æ–±–∫–∞—Ö: use "git restore --staged <file>..." to unstage. –¢–∞–∫ —á—Ç–æ, –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã –∏ –∑–∞–±—ã–ª–∏ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É, Git –Ω–∞–ø–æ–º–Ω–∏—Ç –≤–∞–º.*

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫.

```
$ touch example.txt # —Å–æ–∑–¥–∞–ª–∏ –Ω–µ–Ω—É–∂–Ω—ã–π —Ñ–∞–π–ª
$ git add example.txt # –¥–æ–±–∞–≤–∏–ª–∏ –µ–≥–æ –≤ staged

$ git status # –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ —Å—Ç–∞—Ç—É—Å
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
        new file:   example.txt

$ git restore --staged example.txt
$ git status # –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ —Å—Ç–∞—Ç—É—Å

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        example.txt

no changes added to commit (use "git add" and/or "git commit -a")
# —Ñ–∞–π–ª example.txt –∏–∑ staged –≤–µ—Ä–Ω—É–ª—Å—è –æ–±—Ä–∞—Ç–Ω–æ –≤ untracked 
```

–í—ã–∑–æ–≤ git restore --staged example.txt –ø–µ—Ä–µ–≤—ë–ª example.txt –∏–∑ staged –æ–±—Ä–∞—Ç–Ω–æ –≤ untracked.

–ß—Ç–æ–±—ã ¬´—Å–±—Ä–æ—Å–∏—Ç—å¬ª –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ staged –æ–±—Ä–∞—Ç–Ω–æ –≤ untracked/modified, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ–π _git restore --staged_ .: –æ–Ω–∞ —Å–±—Ä–æ—Å–∏—Ç –≤—Å—é —Ç–µ–∫—É—â—É—é –ø–∞–ø–∫—É (.).

*üí° –†–∞–Ω—å—à–µ –¥–ª—è —ç—Ç–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –∫–æ–º–∞–Ω–¥—É git reset HEAD. –ù–æ git reset ¬´–ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω–∞—è¬ª: –æ–Ω–∞ —É–º–µ–µ—Ç –¥–µ–ª–∞—Ç—å –º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ß—Ç–æ–±—ã –±—ã–ª–æ –º–µ–Ω—å—à–µ –ø—É—Ç–∞–Ω–∏—Ü—ã, –≤ Git –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ git restore.*

## ¬´–û—Ç–∫–∞—Ç–∏—Ç—å¬ª –∫–æ–º–º–∏—Ç ‚Äî git reset --hard <commit hash>

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ ¬´–æ—Ç–∫–∞—Ç–∏—Ç—å¬ª —Ç–æ, —á—Ç–æ —É–∂–µ –±—ã–ª–æ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ, —Ç–æ –µ—Å—Ç—å –≤–µ—Ä–Ω—É—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∫ –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–µ–º—É. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–º–∞–Ω–¥—É git reset --hard <commit hash> (–æ—Ç –∞–Ω–≥–ª. reset ‚Äî ¬´—Å–±—Ä–æ—Å¬ª, ¬´–æ–±–Ω—É–ª–µ–Ω–∏–µ¬ª –∏ hard ‚Äî ¬´—Å—É—Ä–æ–≤—ã–π¬ª).

```
$ git log --oneline # —Ö–µ—à –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –∏—Å—Ç–æ—Ä–∏–∏
7b972f5 (HEAD -> master) style: –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —Ä–∞—Å—Å—Ç–∞–≤–∏—Ç—å –æ—Ç—Å—Ç—É–ø—ã
b576d89 feat: –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Å—Å–∏–≤ Expenses –∏ —Ü–∏–∫–ª –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ç # –≤–æ—Ç —Å—é–¥–∞ –∏ –≤–µ—Ä–Ω—ë–º—Å—è
4b58962 refactor: —Ä–∞–∑–¥–µ–ª–∏—Ç—å analyzeExpenses() –Ω–∞ countSum() –∏ saveExpenses()

$ git reset --hard b576d89
# —Ç–µ–ø–µ—Ä—å –º—ã –Ω–∞ —ç—Ç–æ–º –∫–æ–º–º–∏—Ç–µ
HEAD is now at b576d89 feat: –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Å—Å–∏–≤ Expenses –∏ —Ü–∏–∫–ª –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ç 
```

–¢–µ–ø–µ—Ä—å –∫–æ–º–º–∏—Ç b576d89 —Å—Ç–∞–ª –ø–æ—Å–ª–µ–¥–Ω–∏–º: –≤—Å—è –¥–∞–ª—å–Ω–µ–π—à–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±—É–¥–µ—Ç –≤–µ—Å—Ç–∏—Å—å –æ—Ç –Ω–µ–≥–æ. –§–∞–π–ª —Ç–∞–∫–∂–µ –≤–µ—Ä–Ω—É–ª—Å—è –∫ —Ç–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª –≤ –º–æ–º–µ–Ω—Ç —ç—Ç–æ–≥–æ –∫–æ–º–º–∏—Ç–∞. –ê –∫–æ–º–º–∏—Ç 7b972f5 Git –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏–ª. –≠—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–Ω–æ–≤–∞ –∑–∞–ø—Ä–æ—Å–∏–≤ –ª–æ–≥. –û–Ω –ø–æ–∫–∞–∂–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ.

```
$ git log --oneline
b576d89 (HEAD -> master) feat: –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Å—Å–∏–≤ Expenses –∏ —Ü–∏–∫–ª –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞—Ç
4b58962 refactor: —Ä–∞–∑–¥–µ–ª–∏—Ç—å analyzeExpenses() –Ω–∞ countSum() –∏ saveExpenses() 
```

–í–æ—Ç —Ç–∞–∫ —Å—Ö–µ–º–∞—Ç–∏—á–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å ¬´–æ—Ç–∫–∞—Ç–∞¬ª —Å –ø–æ–º–æ—â—å—é git reset --hard <hash>.

```mermaid
graph TD;
subgraph –°—Ç–∞–ª–æ
  H3(HEAD)-->B3(b576d89);
  B3-->C3(4658962);
end
subgraph –ü—Ä–æ—Ü–µ—Å—Å
  H2(HEAD)-->|rm|A2(rm 76972f5);
  H2-->|new|B2;
  A2-->|rm|B2(b576d89);
  B2-->C2(4658962);
end
subgraph –ë—ã–ª–æ
  H1(HEAD)-->A1(76972f5);
  A1-->B1(b576d89);
  B1-->C1(4658962);
end
```

_–ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã —Å –∫–æ–º–∞–Ω–¥–æ–π git reset --hard! –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–º–∏—Ç–æ–≤ –º–æ–∂–Ω–æ –ø–æ—Ç–µ—Ä—è—Ç—å —á—Ç–æ-—Ç–æ –Ω—É–∂–Ω–æ–µ._

## ¬´–û—Ç–∫–∞—Ç–∏—Ç—å¬ª –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–ø–∞–ª–∏ –Ω–∏ –≤ staging, –Ω–∏ –≤ –∫–æ–º–º–∏—Ç, ‚Äî git restore <file>

–ú–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∞–∫, —á—Ç–æ –≤—ã —Å–ª—É—á–∞–π–Ω–æ –∏–∑–º–µ–Ω–∏–ª–∏ —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∏. –¢–µ–ø–µ—Ä—å –æ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Changes not staged for commit (modified). –ß—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å –≤—Å—ë ¬´–∫–∞–∫ –±—ã–ª–æ¬ª, –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É git restore <file>.

```
# —Å–ª—É—á–∞–π–Ω–æ –∏–∑–º–µ–Ω–∏–ª–∏ —Ñ–∞–π–ª example.txt
$ git status
On branch main
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
          modified:   example.txt

$ git restore example.txt
$ git status
On branch main
nothing to commit, working tree clean 
```

–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ ¬´–æ—Ç–∫–∞—Ç—è—Ç—Å—è¬ª –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —á–µ—Ä–µ–∑ git commit –∏–ª–∏ git add.

–£—Ä–∞! –¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —à–∞–≥ –Ω–∞–∑–∞–¥, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. –í–æ—Ç –æ —á—ë–º –º—ã —Ä–∞—Å—Å–∫–∞–∑–∞–ª–∏:

* –ö–æ–º–∞–Ω–¥–∞ git restore --staged <file> –ø–µ—Ä–µ–≤–µ–¥—ë—Ç —Ñ–∞–π–ª –∏–∑ staged –æ–±—Ä–∞—Ç–Ω–æ –≤ modified –∏–ª–∏ untracked.

* –ö–æ–º–∞–Ω–¥–∞ git reset --hard <commit hash> ¬´–æ—Ç–∫–∞—Ç–∏—Ç¬ª –∏—Å—Ç–æ—Ä–∏—é –¥–æ –∫–æ–º–º–∏—Ç–∞ —Å —Ö–µ—à–µ–º <hash>. –ë–æ–ª–µ–µ –ø–æ–∑–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è!

* –ö–æ–º–∞–Ω–¥–∞ git restore <file> ¬´–æ—Ç–∫–∞—Ç–∏—Ç¬ª –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π (–≤ –∫–æ–º–º–∏—Ç–µ –∏–ª–∏ –≤ staging) –≤–µ—Ä—Å–∏–∏.