# Сравниваем ветки

В одном из уроков предыдущего модуля мы рассказывали о команде git diff. Она выводит результат сравнения коммитов, modified- и staged-файлов.

В этом уроке расскажем ещё о двух способах применения git diff — для сравнения веток, а также с суффиксом навигации ~. Этот суффикс поможет просмотреть изменения в нескольких последних коммитах.

## Сравнить ветки — git diff <название_ветки1> <название_ветки2>

Вернитесь к проекту git-branches. Перейдите в основную ветку через git checkout. Откройте файл README.md и добавьте пункт про команду git branch. Файл получится таким.

```
# Ветки в Git 

Чтобы посмотреть все активные ветки в проекте, нужно вызвать команду `git branch` без аргументов.  
```

Сохраните файл, добавьте изменения в staging area, а затем выполните коммит: git add . && git commit -m "Добавить git branch в README".

Создайте ветку feature/diff и перейдите в неё. Снова откройте файл README.md и добавьте туда новую строку. Должен получиться такой текст.

```
# Ветки в Git 

Чтобы посмотреть все активные ветки в проекте, нужно вызвать команду `git branch` без аргументов. 

Для сравнения веток есть команда `git diff`. 
```

Подготовьте файл к сохранению и сделайте коммит: git add . && git commit -m "Добавить git diff в README".

Теперь используйте команду git diff main feature/diff (или git diff master feature/diff), чтобы вывести разницу между двумя ветками. Вы увидите точно такой же вывод, как если бы сравнивали два коммита между собой.

```
$ git diff main feature/diff # сравнили ветки main и feature/diff

diff --git a/README.md b/README.md
index 86b1ff4..fff4920 100644
--- a/README.md
+++ b/README.md
@@ -1,3 +1,5 @@
 # Ветки в Git 
 
 Чтобы посмотреть все активные ветки в проекте, нужно вызвать команду `git branch` без аргументов.
+
+Для сравнения веток есть команда `git diff`. 
```

При сравнении вы также можете использовать название ветки и хеш коммита. Для этого сначала выполните команду git log --oneline, чтобы вывести список коммитов.

```
$ git log --oneline
2ea56ab (HEAD -> feature/diff) Добавить git diff в README
de8b09b (main) Добавить git branch в README
7ad18bd Добавить файл README 
```

Теперь выполните команду git diff с названием основной ветки и хешем коммита в ветке feature/diff. У нас получилась следующая комбинация: git diff main 2ea56ab. У вас параметры могут быть другими.

```
$ git diff main 2ea56ab
# вывод будет такой же, как при использовании git diff main feature/diff 
```

Вывод будет такой же, как после выполнения команды git diff main feature/diff. Когда вы вызываете git diff <название_ветки1> <название_ветки2>, Git находит два коммита, на которые указывает каждая из веток, и сравнивает их. Также с веткой можно сравнивать указатель HEAD.

А вот как схематически выглядит ваш проект git-branches после всех изменений.

![ ](https://pictures.s3.yandex.net/resources/M3_T3-3_1687851357.png)

### Потрясающе! В этом уроке вы узнали о ещё двух полезных функциях команды git diff. А именно:

* git diff может сравнивать ветки по их названиям. Например, команда git diff main feature/my-feature выведет разницу между основной веткой и веткой feature/my-feature.

* Git поддерживает суффикс навигации ~. С его помощью можно сослаться на предыдущие коммиты. Например, если вы находитесь в ветке main и хотите вывести разницу между тем коммитом, который был три коммита назад, и текущим, нужно выполнить git diff main~3 main.